{"version":3,"sources":["add-battle.js","app.js","battle-detail.js","battle-list.js","date-helper.js","environment.js","main.js","messages.js","no-selection.js","session.js","utility.js","web-api.js","partials/footer.js","partials/header.js","resources/index.js","resources/elements/loading-indicator.js","resources/value-converters/normalize-date.js","resources/value-converters/normalize-time.js","C:/aRTR/aBattleTour/src/add-battle.html","C:/aRTR/aBattleTour/src/app.html","css/_genericClasses.scss","css/_globals.scss","css/styler.scss","C:/aRTR/aBattleTour/src/battle-detail.html","C:/aRTR/aBattleTour/src/battle-list.html","C:/aRTR/aBattleTour/src/no-selection.html","C:/aRTR/aBattleTour/src/partials/footer.html","C:/aRTR/aBattleTour/src/partials/header.html","C:/aRTR/aBattleTour/node_modules/material-design-lite/dist/material.green-lime.min.css","C:/aRTR/aBattleTour/node_modules/material-design-lite/dist/material.min.js","C:/aRTR/aBattleTour/node_modules/normalize-css/normalize.css","C:/aRTR/aBattleTour/node_modules/normalize-css.js","C:/aRTR/aBattleTour/node_modules/flatpickr/dist/flatpickr.min.css","C:/aRTR/aBattleTour/node_modules/flatpickr/dist/flatpickr.min.js"],"names":[],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {WebAPI} from './web-api';\r\nimport {Session} from './session';\r\nimport {BattleSaved,BattleViewed} from './messages';\r\nimport {areEqual, prepareBattle, validRequest} from './utility';\r\nimport * as dater from './date-helper';\r\nimport {Router} from 'aurelia-router';\r\n\r\nexport class addBattle {\r\n\tstatic inject = [WebAPI, EventAggregator, Router];\r\n\r\n  constructor(api, ea, router){\r\n    this.api = api;\r\n    this.ea = ea;\r\n    this.theRouter = router;\r\n  }\r\n\r\n  activate(params, routeConfig) {\r\n    this.routeConfig = routeConfig;\r\n\r\n    let battle = {\r\n      \"name\": \"\",\r\n      \"date\": \"\",\r\n      \"comment\": \"\",\r\n      \"location\": \"\",\r\n      \"eventpage\": \"\",\r\n      \"types\": {\r\n        v1: false,\r\n        v2: false,\r\n        v3: false,\r\n        v4: false,\r\n        vc: false\r\n      }\r\n    };\r\n\r\n    this.battle = battle;\r\n    // if(!this.dtp){\r\n    // }else{\r\n    //   this.dtp.setDate(this.battle.date);\r\n    // }\r\n    this.originalBattle = JSON.parse(JSON.stringify(battle));\r\n    this.ea.publish(new BattleViewed(this.battle));\r\n  }\r\n\r\n  attached(){\r\n    // this.dtp = new dtPickr(this.date);\r\n    this.dtp = flatpickr(this.date, { \r\n      dateFormat: 'd-m-Y', \r\n      minDate: \"today\", \r\n      enableTime: true, \r\n      minuteIncrement: 15, \r\n      time_24hr: true,\r\n      onClose: function func(a, q){\r\n      \tif(!a){\r\n        \tdocument.getElementById(\"date-container\").classList.remove(\"is-dirty\");\r\n      \t}\r\n      },\r\n      onOpen: function func(a, q){\r\n        document.getElementById(\"date-container\").className += \" is-dirty\";\r\n      },\r\n      onChange: function func(a, q){\r\n        document.getElementById(\"date\").value = a;\r\n      }\r\n    });\r\n\r\n    //this.dtp.setDate(this.battle.date);\r\n    //register material-design-lite components\r\n    componentHandler.upgradeDom();\r\n  }\r\n\r\n  get editEnabled() {\r\n    return Session.authorized;\r\n  }\r\n\r\n  get canSave() {\r\n    return validRequest(this.battle, this.api.isRequesting, false);\r\n  }\r\n\r\n  save() {\r\n    this.battle.date = document.getElementById(\"date\").value;\r\n    if(validRequest(this.battle, this.api.isRequesting, true)){\r\n      this.battle.date = document.getElementById(\"date\").value;\r\n      this.api.saveBattle(this.battle)\r\n        .then(battle => {\r\n          this.ea.publish(new BattleSaved(battle));\r\n        });\r\n\r\n      this.originalBattle = JSON.parse(JSON.stringify(this.battle));\r\n      this.theRouter.navigate(\"/\");\r\n    }else{\r\n      this.errorContainer.MaterialSnackbar.showSnackbar({ message: 'battle not saved' });\r\n    }\r\n  }\r\n\r\n  canDeactivate() {\r\n    if(!areEqual(this.originalBattle, this.battle)){\r\n\r\n      let result = confirm('You have unsaved changes. Are you sure you wish to leave?');\r\n      \r\n      if(!result){\r\n        this.ea.publish(new BattleViewed(this.battle));\r\n      }\r\n\r\n      return result;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import {WebAPI} from './web-api';\nimport {Session, MenuState} from './session';\n\nexport class App {\n  static inject() { return [WebAPI]; }\n\n  constructor(api) {\n    this.api = api;\n    Session.authorized = false;\n    // MenuState = false;\n  }\n\n  configureRouter(config, router){\n    config.title = 'ChamberFlow - BattleTour';\n    config.map([\n      { route: '',              moduleId: 'no-selection'},\n      { route: 'battles/:id',   moduleId: 'battle-detail', name:'battles' },\n      { route: 'battles/add',   moduleId: 'add-battle', name:'battles/add' }\n    ]);\n\n    this.router = router;\n  }\n}","import {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {WebAPI} from './web-api';\r\nimport {Session, MenuState} from './session';\r\nimport {BattleUpdated,BattleViewed, ErrorContainer} from './messages';\r\nimport {areEqual, prepareBattle, validRequest} from './utility';\r\nimport * as dater from './date-helper';\r\nimport {Router} from 'aurelia-router';\r\n\r\nexport class BattleDetail {\r\n  static inject = [WebAPI, EventAggregator, Router];\r\n\r\n  constructor(api, ea, router){\r\n    this.api = api;\r\n    this.ea = ea;\r\n    this.theRouter = router;\r\n  }\r\n\r\n  activate(params, routeConfig) {\r\n    this.routeConfig = routeConfig;\r\n\r\n    Session.authorized = false;\r\n\r\n    this.ea.subscribe(ErrorContainer, msg => {\r\n      this.errorContainer.MaterialSnackbar.showSnackbar({ message: 'Battle not saved, check your facts' });\r\n    });\r\n\r\n    return this.api.getBattleDetails(params.id).then(battle => {\r\n      this.battle = battle;\r\n      if(!this.dtp){\r\n      }else{\r\n        this.dtp.setDate(this.battle.date);\r\n      }\r\n      this.battle = prepareBattle(this.battle);\r\n      this.originalBattle = JSON.parse(JSON.stringify(battle));\r\n      this.ea.publish(new BattleViewed(this.battle));\r\n    });\r\n  }\r\n\r\n  attached(){\r\n    this.dtp = flatpickr(this.date, { \r\n      dateFormat: 'd-m-Y', \r\n      minDate: \"today\", \r\n      enableTime: true, \r\n      minuteIncrement: 15, \r\n      time_24hr: true, \r\n      onChange: function func(a, b){\r\n        document.getElementById(\"date\").value = a;\r\n      }\r\n    });\r\n    this.dtp.setDate(this.battle.date);\r\n\r\n    //register material-design-lite components\r\n    componentHandler.upgradeDom();\r\n  }\r\n\r\n  deactivate(params, routeConfig) {\r\n    // MenuState = false;\r\n  }\r\n\r\n  get editEnabled() {\r\n    return Session.authorized;\r\n  }\r\n\r\n  toggleEdit(){\r\n    Session.authorized = !Session.authorized;\r\n  }\r\n\r\n  get canUpdate() {\r\n    return validRequest(this.battle, this.api.isRequesting, false);\r\n  }\r\n\r\n  update() {\r\n    this.battle.date = document.getElementById(\"date\").value;\r\n    if(validRequest(this.battle, this.api.isRequesting, true)){\r\n      this.api.updateBattle(this.battle).then(battle => {\r\n        this.battle = battle;\r\n        this.originalBattle = JSON.parse(JSON.stringify(battle));\r\n        this.ea.publish(new BattleUpdated(this.battle));\r\n      });\r\n      Session.authorized = !Session.authorized;\r\n    }else{\r\n      this.errorContainer.MaterialSnackbar.showSnackbar({ message: 'battle not updated' });\r\n    }\r\n  }\r\n\r\n  canDeactivate() {\r\n    if(!areEqual(this.originalBattle, this.battle)){\r\n      let result = confirm('You have unsaved changes. Are you sure you wish to leave?'); \r\n      if(!result){\r\n        this.ea.publish(new BattleViewed(this.battle));\r\n      }\r\n      return result;\r\n    }\r\n    return true;\r\n  }\r\n}","import {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {WebAPI} from './web-api';\r\nimport {BattleUpdated, BattleViewed, BattleSaved} from './messages';\r\nimport {prepareBattle, sortBattles} from './utility';\r\nimport {MenuState} from './session';\r\n\r\nexport class BattleList {\r\n  static inject = [WebAPI, EventAggregator];\r\n\r\n  constructor(api, ea){\r\n    this.api = api;\r\n    this.battles = [];\r\n\r\n    // this.menuState = false;\r\n    ea.subscribe(BattleViewed, msg => this.select(msg.battle));\r\n    ea.subscribe(BattleUpdated, msg => {\r\n      let id = msg.battle._id;\r\n      msg.battle = prepareBattle(msg.battle);\r\n      let found = this.battles.find(x => x._id == id);\r\n      Object.assign(found, msg.battle);\r\n    });\r\n    ea.subscribe(BattleSaved, msg => {\r\n      this.api.getBattles().then(battles => {\r\n        // prepare each battle for display\r\n        for (let battle of battles) {\r\n          battle = prepareBattle(battle);\r\n        }\r\n        battles = sortBattles(battles);\r\n        this.battles = battles;\r\n      });\r\n    });\r\n  }\r\n\r\n  get menuState(){\r\n    // return MenuState;\r\n    // is-visible\r\n  }\r\n\r\n  attached(){\r\n    //register material-design-lite components\r\n    componentHandler.upgradeElement(this.menu);\r\n  }\r\n\r\n  created(){\r\n    this.api.getBattles().then(battles => {\r\n      // prepare each battle for display\r\n      for (let battle of battles) {\r\n        battle = prepareBattle(battle);\r\n      }\r\n      battles = sortBattles(battles);\r\n      this.battles = battles;\r\n    });\r\n  }\r\n\r\n  select(battle){\r\n    this.selectedId = battle._id;\r\n    return true;\r\n  }\r\n}","export function getShortDay(date){\r\n  var weekday = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n  return weekday[date.getDay()];\r\n}\r\n\r\nexport function getLongDay(date){\r\n  var weekday = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n  return weekday[date.getDay()];\r\n}\r\n\r\n// Expect input as d/m/y\r\nexport function isValidDate(date) {\r\n  var bits = date.split('/');\r\n  var d = new Date(bits[2], bits[1] - 1, bits[0]);\r\n  return d && (d.getMonth() + 1) == bits[1];\r\n}\r\n\r\nexport function daysTill(date){\r\n\tvar oneDay = 24*60*60*1000; // hours*minutes*seconds*milliseconds\r\n\t// var secondDate = new Date(new Date().getFullYear()+1,3,5);\r\n\tvar secondDate = date;\r\n\tvar firstDate = new Date();\r\n\treturn Math.round(Math.abs((firstDate.getTime() - secondDate.getTime())/(oneDay)));\r\n\r\n}","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\n//Note: You may want to use environment-specific configuration.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export class BattleUpdated {\r\n  constructor(battle){\r\n    this.battle = battle;\r\n  }\r\n}\r\n\r\nexport class BattleViewed {\r\n  constructor(battle){\r\n    this.battle = battle;\r\n  }\r\n}\r\n\r\nexport class BattleSaved {\r\n  constructor(battle){\r\n    this.battle = battle;\r\n  }\r\n}\r\n\r\nexport class ErrorContainer {\r\n  constructor(error){\r\n    this.error = error;\r\n  }\r\n}","\r\n\r\n\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {WebAPI} from './web-api';\r\nimport {BattleUpdated, BattleViewed, BattleSaved} from './messages';\r\nimport {prepareBattle, sortBattles} from './utility';\r\nimport {MenuState} from './session';\r\n\r\nexport class NoSelection {\r\n  static inject = [WebAPI, EventAggregator];\r\n\r\n  constructor(api, ea){\r\n    this.api = api;\r\n    this.battles = [];\r\n\r\n    // this.menuState = false;\r\n    ea.subscribe(BattleViewed, msg => this.select(msg.battle));\r\n    ea.subscribe(BattleUpdated, msg => {\r\n      let id = msg.battle._id;\r\n      msg.battle = prepareBattle(msg.battle);\r\n      let found = this.battles.find(x => x._id == id);\r\n      Object.assign(found, msg.battle);\r\n    });\r\n    ea.subscribe(BattleSaved, msg => {\r\n      this.api.getBattles().then(battles => {\r\n        // prepare each battle for display\r\n        for (let battle of battles) {\r\n          battle = prepareBattle(battle);\r\n        }\r\n        battles = sortBattles(battles);\r\n        this.battles = battles;\r\n      });\r\n    });\r\n  }\r\n\r\n\r\n  attached(){\r\n    //register material-design-lite components\r\n    componentHandler.upgradeElement(this.menu);\r\n  }\r\n\r\n  created(){\r\n    this.api.getBattles().then(battles => {\r\n      // prepare each battle for display\r\n      for (let battle of battles) {\r\n        battle = prepareBattle(battle);\r\n      }\r\n      battles = sortBattles(battles);\r\n      this.battles = battles;\r\n    });\r\n  }\r\n\r\n\r\n  select(battle){\r\n    this.selectedId = battle._id;\r\n    return true;\r\n  }\r\n}","export class Session {\r\n  constructor(session){\r\n    this.session.authorized = false;\r\n  }\r\n}\r\n\r\nexport class MenuState {\r\n  constructor(menuState){\r\n    this.menuState = false;\r\n  }\r\n}","import * as dater from './date-helper';\n\nexport function areEqual(a, q) {\n\tif(a.name === q.name){\n\t\tif(a.date === q.date){\n\t\t\tif(a.comment === q.comment){\n\t\t\t\tif(a.location === q.location){\n\t\t\t\t\tif(a.eventpage === q.eventpage){\n\t\t\t\t\t\tif(a.types.v1 === q.types.v1){\n\t\t\t\t\t\t\tif(a.types.v2 === q.types.v2){\n\t\t\t\t\t\t\t\tif(a.types.v3 === q.types.v3){\n\t\t\t\t\t\t\t\t\tif(a.types.v4 === q.types.v4){\n\t\t\t\t\t\t\t\t\t\tif(a.types.vc === q.types.vc){\n\t\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n};\n\nexport function prepareBattle(battle){\n\t// let battle.daysTill;\t\t\tcalculate daysTill\n\t// let battle.day;\t\t\t\tget short day\n\t// let battle.displayName;\t\tfix for titles which are too long\n\n\t// battle.location = battle.location.replace(/\\\\n/g, String.fromCharCode(13, 10) )\n\n    battle.daysTill = dater.daysTill(new Date(battle.date));\n    battle.day = dater.getShortDay(new Date(battle.date));\n    if(battle.name.length>22){\n      \tbattle.displayName = battle.name.substring(0, 22) + '...';\n    }else{\n    \tbattle.displayName = battle.name;\n    }\n\n    return battle;\n}\n\nexport function sortBattles(battles){\n  // sort battles on battle.daysTill\n  battles.sort(function (a, b) {\n    if (a.daysTill > b.daysTill) {\n      return 1;\n    }\n    if (a.daysTill < b.daysTill) {\n      return -1;\n    }\n    // a must be equal to b\n    return 0;\n  });\n  return battles;\n}\n\nexport function validRequest(battle, isRequesting, isStoring){\n\tif(isRequesting){\n\t\treturn false;\n\t}\n\telse if(battle.name == \"\"){\n\t\treturn false;\n\t}\n\telse if(isStoring){\n\t\tlet t = new Date(battle.date.toString());\n\t\tif(t == \"Invalid Date\"){\n\t\t\treturn false;\n\t\t}else{\n\t\t\tif( t < Date.now()){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\telse if(battle.comment == \"\"){\n\t\treturn false;\n\t}\n\telse if(battle.eventpage == \"\"){\n\t\treturn false;\n\t}\n\telse if(battle.location == \"\"){\n\t\treturn false;\n\t}\n\t//fix types\n\treturn true;\n}","import {HttpClient} from 'aurelia-http-client';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {ErrorContainer} from './messages';\n\nlet client = new HttpClient()\n  .configure(x => {\n    x.withHeader('Content-Type', 'application/json');\n  });\n\nexport class WebAPI {\n  static inject = [EventAggregator];\n  isRequesting = false;\n\n  constructor(ea){\n    this.ea = ea;\n  }\n  \n  getBattles(){\n    this.isRequesting = true;\n    return new Promise(resolve => {\n      client.get('https://battle-tour-api-iorije.c9users.io/battles')\n        .then(data => {\n          resolve(JSON.parse(data.response));\n          this.isRequesting = false;\n        });\n    });\n  }\n  \n  getBattleDetails(id){\n    this.isRequesting = true;\n    return new Promise(resolve => {\n      client.get('https://battle-tour-api-iorije.c9users.io/battles/' + id)\n        .then(data => {\n          resolve(JSON.parse(data.response));\n          this.isRequesting = false;\n        });\n    });\n  }\n\n  updateBattle(battle){\n    this.isRequesting = true;\n    return new Promise(resolve => {\n      client.post('https://battle-tour-api-iorije.c9users.io/battles/u/' + battle._id, battle)\n        .then(data => {\n          console.log(JSON.parse(data.response).msg);\n          if(JSON.parse(data.response).msg === \"NOK\"){\n            this.ea.publish(new ErrorContainer(JSON.parse(data.response)));\n          }\n          resolve(battle);\n          this.isRequesting = false;\n        });\n    });\n  }\n\n  saveBattle(battle){\n    this.isRequesting = true;\n    return new Promise(resolve => {\n      client.post('https://battle-tour-api-iorije.c9users.io/battles/new', battle)\n        .then(data => {\n          console.log(data.response);\n          resolve(battle);\n          this.isRequesting = false;\n        });\n    });\n  }\n}\n","export class Footer {\r\n  // message = \"Please Select a Contact.\";\r\n}","export class Header {\r\n  // message = \"Please Select a Contact.\";\r\n}","export function configure(config) {\n  config.globalResources(['./elements/loading-indicator']);\n}","import * as nprogress from 'nprogress';\r\nimport {bindable, noView, decorators} from 'aurelia-framework';\r\n\r\nexport let LoadingIndicator = decorators(\r\n  noView(['nprogress/nprogress.css']),\r\n  bindable({name: 'loading', defaultValue: false})\r\n).on(class {\r\n  loadingChanged(newValue){\r\n    if (newValue) {\r\n      nprogress.start();\r\n    } else {\r\n      nprogress.done();\r\n    }\r\n  }\r\n});","export class NormalizeDateValueConverter {\r\n  toView(value) {\r\n  \tvalue = new Date(value);\r\n\t  let months = [ \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\" ];\r\n\t  return value.getDate() + '-' + months[value.getMonth()] + '-' + value.getFullYear();\r\n  }\r\n}","export class NormalizeTimeValueConverter {\r\n  toView(value) {\r\n  \tlet d = new Date(value);\r\n  \tlet minutes = d.getMinutes().toString().length == 1 ? '0'+d.getMinutes() : d.getMinutes();\r\n    let hours = d.getHours().toString().length == 1 ? '0'+d.getHours() : d.getHours();\r\n\treturn hours + ':' + minutes;\r\n  }\r\n}",null,null,".divider{\r\n\tbackground-color: $dark;\r\n\theight: 10px;\r\n\twidth: 100%;\r\n}\r\n\r\n.divider-inv{\r\n\tbackground-color: $light;\r\n\theight: 10px;\r\n\twidth: 100%;\r\n}\r\n\r\n.small-divider{\r\n\tbackground-color: $dark;\r\n\theight: 5px;\r\n\twidth: 100%;\r\n}\r\n\r\n.small-divider-inv{\r\n\tbackground-color: $light;\r\n\theight: 5px;\r\n\twidth: 100%;\r\n}\r\n\r\n.visible{\r\n\tdisplay:block;\r\n}\r\n\r\n.invisible{\r\n\tdisplay:none;\r\n}\r\n\r\n.imgMaxWidth{\r\n\twidth:100%;\r\n}\r\n\r\n// .frsh-bullet{\r\n// \tfloat: left;\r\n// \twidth: 33px;\r\n// \tpadding-top: 4px;\r\n// \tmargin-right: 4px;\r\n// \tz-index: -1;\r\n// \tborder: none;\r\n// \tdisplay: block;\r\n// }\r\n\r\n// .imgMaxWidth{\r\n// \twidth: $containerWidth;\r\n// \t@include break('flow'){\r\n// \t\twidth:100%;\r\n// \t}\r\n// }\r\n\r\n.clear{\r\n\tclear:both;\r\n}","// body settings\r\n$containerWidth\t: \t\t1200px;\r\n\r\n// base colors\r\n// $dark\t\t\t:\t\t#0A0100;\r\n// $light \t\t\t:\t\t#F3EFD4;\r\n// $accent \t\t:\t\t#716D5C;\r\n// $subdark \t\t:\t\t#A59F90;\r\n// $sublight\t\t:\t\t#DAD5C0;\r\n\r\n\r\n$dark\t\t\t:\t\t#111111;\r\n$light \t\t\t:\t\t#ffffff;\r\n$accent \t\t:\t\trgb(76,175,80);\r\n$accent2 \t\t:\t\trgb(238,255,65);\r\n// $sublight\t\t:\t\t#DAD5C0;\r\n\r\n// $black\t\t\t:\t\t#111111;\r\n// $white\t\t\t:\t\t#ffffff;\r\n\r\n// font\r\n// $textclr\t\t:\t\t$dark;\r\n// $textclr-inv\t:\t\t$light;\r\n\r\n// $linkclr\t\t:\t\t$accent;\r\n// $linkhclr \t\t:\t\t$dark;","@import '_globals';\r\n@import '_mixins';\r\n@import '_genericClasses';\r\n// @import '_icons';\r\n// @import '_navigation';\r\n\r\n\r\n\r\n// mine\r\na:focus {\r\n  outline: none;\r\n}\r\n\r\nbody {\r\n  font-size: 16px;\r\n  line-height: 28px; // http://www.pearsonified.com/typography/\r\n  background-color: $light;\r\n}\r\n\r\n.bodyContainer{\r\n\tpadding:0px;\r\n\t.navigation{\r\n\t\tmargin:0px;\r\n\t}\r\n}\r\n\r\n// fixing theirs\r\n// navigation\r\n.mdl-layout__drawer .mdl-navigation .mdl-navigation__link {\r\n    width: 100%;\r\n    padding:0px;\r\n    color:$dark;\r\n }\r\n\r\n .mdl-layout__drawer>.mdl-layout__title, .mdl-layout__drawer>.mdl-layout-title {\r\n  height: 95px;\r\n  background:$accent2 url('src/img/chamberflow-trans.png') center / cover;\r\n  background-color: $accent2;\r\n  padding-left: 20px;\r\n }\r\n\r\n.mdl-layout__drawer .mdl-navigation {\r\n  padding-top: 0px; \r\n  .mdl-navigation__link:hover{\r\n    background-color: #EFEFEF;\r\n  }\r\n\r\n  .mdl-list__item--two-line{\r\n    .mdl-list__item-primary-content{\r\n      padding-top:1px;\r\n    }\r\n    &:hover{\r\n      background-color: #EFEFEF;\r\n    }\r\n  }\r\n\r\n  .active{\r\n    background-color: #e0e0e0;\r\n  }\r\n\r\n  .mdl-list {\r\n      margin-top: 0px;\r\n      padding-top: 0px;\r\n  }\r\n\r\n  .mdl-list__item-sub-title{\r\n    padding-top: 5px;\r\n    width:170px;\r\n  }\r\n  .mdl-list__item-secondary-content{\r\n    top: -18px;\r\n    position: relative;\r\n  }\r\n\r\n  .addButton{\r\n    background-color: $accent;\r\n    .mdl-list__item-primary-content{\r\n      padding-top:20px;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n// snackbar\r\n.mdl-snackbar--active{\r\n  position: relative;\r\n  margin-top: 18px;\r\n  width: 315px;\r\n  margin-left: -18px;\r\n}\r\n\r\n// chip\r\n.mdl-chip {\r\n  height: 21px;\r\n  line-height: 20px;\r\n  padding: 0px 6px;\r\n  margin: 8px 0px;\r\n  background-color: $accent;\r\n  color:$light;\r\n  .mdl-chip__text {\r\n    font-size: 11px;\r\n    padding-top:1px;\r\n  }\r\n  &:focus {\r\n    box-shadow: none;\r\n  }\r\n  &:active {\r\n    background-color: $accent;\r\n  }\r\n}\r\n\r\n// cards\r\n.battle-card.mdl-card {\r\n  background-color: #EFEFEF;\r\n  .edit{\r\n    background-color: #fffff5;\r\n  }\r\n  .mdl-card__supporting-text {\r\n    width: 100%;\r\n  }\r\n  .mdl-textfield__input {\r\n    width: 105%;\r\n  }\r\n\r\n\r\n///////////////////////////\r\n\r\n  .mdl-list {\r\n      margin-top: 0px;\r\n      padding-top: 0px;\r\n      margin-bottom: 0px;\r\n      width: 100%;\r\n      .mdl-navigation__link {\r\n      width: 100%;\r\n    }\r\n  }\r\n\r\n  .mdl-list__item-sub-title{\r\n    padding-top: 5px;\r\n    width:170px;\r\n  }\r\n  .mdl-list__item-secondary-content{\r\n    top: -18px;\r\n    position: relative;\r\n  }\r\n\r\n  .addButton{\r\n    background-color: $accent;\r\n    .mdl-list__item-primary-content{\r\n      padding-top:20px;\r\n    }\r\n  }\r\n\r\n///////////////////////////\r\n\r\n\r\n}\r\n.battle-card > .mdl-card__title > h4 {\r\n  margin-top: 0;\r\n}\r\n.battle-card > .mdl-card__actions {\r\n  display: flex;\r\n  box-sizing:border-box;\r\n  align-items: center;\r\n}\r\n\r\n.header > .mdl-card__title {\r\n  height: 176px;\r\n  background:$accent2 url('src/img/chamberflow-trans.png') center / cover;\r\n  width:100%;\r\n}\r\n\r\n.footer {\r\n  background:$accent;\r\n  .mdl-card__supporting-text{\r\n    font-size: 12px;\r\n    font-weight: bold;\r\n  }\r\n}\r\n\r\n.center-card.mdl-card {\r\n  width: 350px;\r\n  margin-left:260px;\r\n  min-height: 50px;\r\n  .fixPadding{\r\n    padding-top:5px;\r\n    padding-bottom:5px;\r\n  }\r\n  .fixTopPadding{\r\n    padding-top:5px;\r\n  }\r\n}\r\n\r\n// checkbox\r\n.mdl-checkbox {\r\n  width: 32%;\r\n}\r\n\r\n// responsive shit\r\n@media screen and (max-width: 1024px){\r\n  .center-card.mdl-card {\r\n      margin-left:0px;\r\n  }\r\n}\r\n\r\n\r\n@media screen and (max-width: 383px){\r\n  .battle-card.mdl-card {\r\n    .mdl-card__supporting-text {\r\n      width: 90%;\r\n    }\r\n    .mdl-textfield__input {\r\n      width: 100%;\r\n    }\r\n    .mdl-snackbar--active{\r\n      width: 259px;\r\n      margin-left: 0px;\r\n    }\r\n  }\r\n}",null,null,null,null,null,null,null,null,null,null,null],"sourceRoot":"..\\src"}